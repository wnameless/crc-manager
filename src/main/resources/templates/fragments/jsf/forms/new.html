<html xmlns:th="http://www.thymeleaf.org">
<div th:fragment="new">
<div id="jsfForm"></div>
<script type="text/javascript" th:inline="javascript">
var schema = JSON.parse([[${jsfItem.jsonSchema}]]);
var uiSchema = JSON.parse([[${jsfItem.jsonUiSchema}]]);
var formData = JSON.parse([[${jsfItem.jsonData}]]);

var onSubmit = ({formData}) => {
  axios.post([[${jsfPath}]], formData)
  	.then(function (response) {
		console.log(response);
		$('#jsf').html(response.data);
	})
	.catch(function (error) {
		console.log(error);
	});
};

ReactDOM.render(
	React.createElement(CostumFormComponent,
		{ id: 'newReactForm',
		  name: 'newReactForm',
		  schema: schema,
		  uiSchema: uiSchema,
		  formData: formData,
		  onSubmit: onSubmit }
	), 
	document.getElementById('jsfForm')
);
</script>
</div>
</html>